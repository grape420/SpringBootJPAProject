<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<main layout:fragment="content">
    <div>
        <h2 class="mb-3">Í≤åÏãúÍ∏Ä Î™©Î°ù</h2>
        <a href="/posts/new" class="btn btn-primary mb-3">ÏÉà Í∏Ä ÏûëÏÑ±</a>

        <form method="get" id="search-form" th:action="@{/posts}" class="mb-3">
            <div class="row g-2 align-items-center">
                <!-- üîç Í≤ÄÏÉâ Ï°∞Í±¥ -->
                <div class="col-auto" style="flex: 0 0 120px;">
                    <select class="form-select" id="searchType" name="searchType">
                        <option value="all" th:selected="${postDTO.searchType == 'all'}">Ï†ÑÏ≤¥</option>
                        <option value="title" th:selected="${postDTO.searchType == 'title'}">Ï†úÎ™©</option>
                        <option value="content" th:selected="${postDTO.searchType == 'content'}">ÎÇ¥Ïö©</option>
                        <option value="author" th:selected="${postDTO.searchType == 'author'}">ÏûëÏÑ±Ïûê</option>
                    </select>
                </div>

                <!-- üî§ Í≤ÄÏÉâÏñ¥ ÏûÖÎ†• -->
                <div class="col" style="flex: 1;">
                    <input type="text" class="form-control" id="keyword" name="keyword"
                           placeholder="Í≤ÄÏÉâÏñ¥ ÏûÖÎ†•"
                           th:value="${postDTO.keyword}" />
                </div>

                <!-- üóì ÏûëÏÑ±Ïùº ÏãúÏûë -->
                <div class="col-auto">
                    <input type="date" class="form-control" id="startDate" name="startDate"
                           th:value="${postDTO.startDate}" />
                </div>

                <!-- üóì ÏûëÏÑ±Ïùº Ï¢ÖÎ£å -->
                <div class="col-auto">
                    <input type="date" class="form-control" id="endDate" name="endDate"
                           th:value="${postDTO.endDate}" />
                </div>

                <!-- üî¢ ÌéòÏù¥ÏßÄ ÌÅ¨Í∏∞ -->
                <div class="col-auto" style="flex: 0 0 100px;">
                    <select class="form-select" id="pageSize" name="pageSize">
                        <option th:value="5" th:selected="${postDTO.pageSize == 5}">5Í∞ú</option>
                        <option th:value="10" th:selected="${postDTO.pageSize == 10}">10Í∞ú</option>
                        <option th:value="20" th:selected="${postDTO.pageSize == 20}">20Í∞ú</option>
                    </select>
                </div>

                <!-- üîò Í≤ÄÏÉâ Î≤ÑÌäº -->
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-secondary ms-2" onclick="resetSearch()">Ï¥àÍ∏∞Ìôî</button>
                    <button class="btn btn-outline-secondary" type="submit">Í≤ÄÏÉâ</button>
                </div>
            </div>
        </form>

        <!-- üî∏ Í≤åÏãúÍ∏Ä Ï∂úÎ†• ÏòÅÏó≠ -->
        <div id="post-table-wrapper"></div>
    </div>
    <script defer th:src="@{/js/post-list.js}"></script>
</main>
</html>
